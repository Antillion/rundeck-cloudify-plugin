# DSL version, should appear in the main blueprint.yaml
# and may appear in other imports. In such case, the versions must match
tosca_definitions_version: cloudify_dsl_1_0

imports:
  - http://www.getcloudify.org/spec/cloudify/3.2.1/types.yaml
  - test_plugin.yaml

node_templates:
  simple_host:
    type: cloudify.nodes.Root
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: antillion.cfyrundeck.jobs.execute
          inputs:
            job_id: 'ASDF-ASDFASDFD-ASDFASDF-ASDFASDF'
            rundeck_server: 'rundeck.example.com'
            api_token: 'SOME_API_TOKEN'
            poll_in_s: 1
            # loglevel: 'DEBUG'
            # asUser: 'SomeUser'
            # filters:
            #   hostname: 'Somehostname'
            args:
              stringArg: 'stringVal1, stringVal2'
              numArg: 2
              arrayArg:
                - 3
                - 4
                - 5
